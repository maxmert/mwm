#!/usr/bin/env node;

var fs, log, pack, path, program, widgets;

pack = require('./package.json');

path = require('path');

widgets = require('./lib/widgets');

program = require('nomnom').colors();

log = require('./lib/logger');

fs = require('fs');

program.command('init').callback(function(options) {
  return widgets.init(options);
}).help('Initializing new widget or theme in the current directory.');

program.command('pack').callback(function(options) {
  return widgets.pack(options);
}).help('Create .zip file in current folder.');

program.command('unpack').callback(function(options) {
  return widgets.unpack(null, options);
}).help('Unpack .zip file in current folder.');

program.command('exists').callback(function(options) {
  return widgets.onServerIsExists(options);
}).help('Check if package with that name exists on server.');

program.command('exist').callback(function(options) {
  return widgets.onServerIsExistsVersion(null, options);
}).help('Check if widget or theme with name specified in maxmertkit.json is exist on the server.');

program.command('publish').callback(function(options) {
  return widgets.onServerPublish(null, options);
}).help('Publish current version of widget or theme.');

program.command('unpublish').callback(function(options) {
  return widgets.onServerUnpublish(null, options);
}).help('Publish current version of widget or theme.');

program.parse();
